interface Output {
    fun output(self): i32;
}

struct Impl1 {
}

module Impl1: Output {
    fun output(self): i32 {
        return 1;
    }
}

struct Impl2 {
}

module Impl1: Output {
    fun output(self): i32 {
        return 2;
    }
}

fun main(): i32 {
    let v = make[vec[Output]](4);
    v.at(0) = Impl1{};
    v.at(1) = Impl2{};
    v.at(2) = Impl2{};
    v.at(3) = Impl2{};

    let s = 0;
    for i in 0..2 {
        s += v.at(i).output();
    }

    return s;
}
